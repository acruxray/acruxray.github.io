<h1 class="center-align">Работа с ssl-сертификатом в Nginx</h1>
<h2 class="center-align">Редактируем файл настроек /etc/nginx/sites-available/example_config, указав в нём пути к вашим сертификатам:</h2>

<pre class="card-panel"><code class="language-bash"><xmp># меняем
server {
	listen 80;
	listen [::]:80;

	server_name example.com;

	root /var/www/example.com;
	index index.html;

	location / {
		try_files $uri $uri/ =404;
	}
}
# на
server {
	listen 80;
	server_name example.com  www.example.com;
	return 301 https://example.com$request_uri; # Редирект на HTTPS  
}

server {
	listen 443 ssl http2;

	server_name example.com;

	ssl_certificate     /var/www/way_to_ssl/example.com/fullchain1.pem; # сертификат сервера
	ssl_certificate_key /var/www/way_to_ssl/example.com/privkey1.pem; # ключ сервера

	ssl_stapling_verify on;
	resolver 135.84.56.8; # или 127.0.0.1 если используется локальный ip
	ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
	ssl_prefer_server_ciphers on;
	ssl_ciphers EECDH+AES128:kEECDH:kEDH:-3DES:kRSA+AES128:kEDH+3DES:DES-CBC3-SHA:!RC4:!aNULL:!eNULL:!MD5:!EXPORT:!LOW:!SEED:!CAMELLIA:!IDEA:!PSK:!SRP:!SSLv2;
	add_header Strict-Transport-Security 'max-age=31536000';

	root /var/www/example.com;
	index index.html;

	location / {
		try_files $uri $uri/ =404;
	}
}
</xmp></code></pre>

<h2 class="center-align">Перезапуск сервера Nginx:</h2>

<pre class="card-panel"><code class="language-bash"><xmp>sudo /etc/init.d/nginx restart
</xmp></code></pre>
