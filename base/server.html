<h1 class="center-align">Установка и настройнка сервера на VDS</h1>

<pre class="card-panel"><code class="language-bash"><xmp>
#new.user.and.stop.root
ssh root@SERVER_IP_ADDRESS
adduser username
	pass:yoursecretpassword
gpasswd -a username sudo
nano /etc/ssh/sshd_config
	change "PermitRootLogin yes" to "PermitRootLogin no" + ctrl-x + y + enter
service ssh restart

#apache2
sudo apt-get install apache2
sudo apt-get install php5 libapache2-mod-php5
sudo apt-get install mysql-server
	pass root:yourmysqlsecretpassword
sudo apt-get install php5-curl

sudo /etc/init.d/apache2 restart
sudo chown -R $USER:$USER /var/www

#ftp
sudo apt-get install vsftpd
sudo nano /etc/vsftpd.conf
	uncomment strings "write_enable=YES" and "local_umask=022" + ctrl-x + y + enter
sudo service vsftpd restart

#add.sites
mkdir /var/www/site.com
mkdir /var/www/site.com
mkdir /home/username/access-logs

sudo nano /etc/apache2/sites-available/000-default.conf
sudo /etc/init.d/apache2 restart
sudo cp /etc/apache2/sites-available/000-default.conf /etc/apache2/sites-available/api.site.com.conf
sudo nano /etc/apache2/sites-available/api.site.com.conf
sudo a2ensite api.site.com
sudo service apache2 reload

#ssl
sudo nano /etc/apache2/sites-available/default-ssl.conf
	add SSLCertificateFile	/var/www/sites/ssl/site.com/cert1.pem
		SSLCertificateKeyFile /var/www/sites/ssl/site.com/privkey1.pem
		SSLCertificateChainFile /var/www/sites/ssl/site.com/chain1.pem
sudo a2enmod ssl
sudo a2ensite default-ssl
sudo service apache2 restart

#ssmtp
sudo apt-get install ssmtp
sudo nano /etc/php5/apache2/php.ini
	change ";sendmail_path =" to "sendmail_path = /usr/sbin/ssmtp -t"
sudo nano /etc/ssmtp/ssmtp.conf

#.htaccess
sudo nano /etc/apache2/apache2.conf
	change "AllowOverride None" to "AllowOverride All" in "<Directory /var/www/>"
sudo /etc/init.d/apache2 restart

#mor_rewrite
sudo ln -s /etc/apache2/mods-available/rewrite.load /etc/apache2/mods-enabled/
sudo /etc/init.d/apache2 restart

sudo apt-get install phpmyadmin
	pass:phpmyadminpassword

sudo apt-get install curl
</xmp></code></pre>
